import numpy
import ete3

mapping = dict()

with open("/Users/aadavin/Desktop/Last/GregTest/mapping_names") as f:
    for line in f:
        sp, nm = line.strip().split("\t")
        mapping[nm] = sp


t = ete3.Tree("((((n15:3134.18,n16:3134.18)n7:850.133,(((n39:1172.6,n40:1172.6)n27:2113.55,n28:3286.15)n17:352.634,(n29:3203.93,(n41:2925.06,((n77:1911.81,n78:1911.81)n59:490.688,(n79:1544.57,n80:1544.57)n60:857.919)n42:522.571)n30:278.869)n18:434.851)n8:345.524)n3:254.774,((((n43:2374.11,n44:2374.11)n31:737.933,(n45:2421.81,n46:2421.81)n32:690.23)n19:634.432,((n47:1941.87,n48:1941.87)n33:1135.47,((n61:1531.25,n62:1531.25)n49:754.389,n50:2285.64)n34:791.703)n20:669.128)n9:320.845,(n21:3744.97,(((n63:2860.19,(n81:1875.41,n82:1875.41)n64:984.777)n51:511.345,(((n99:1879.79,(n119:1644.91,(n145:599.014,n146:599.014)n120:1045.9)n100:234.884)n83:321.429,(((n147:1376.01,n148:1376.01)n121:600.338,((n169:1095.83,n170:1095.83)n149:781.031,(n171:1344.91,(n191:1057.76,n192:1057.76)n172:287.151)n150:531.947)n122:99.4918)n101:120.265,(n123:1807.97,((n173:1277.27,(n193:991.403,n194:991.403)n174:285.87)n151:450.289,((n195:414.11,n196:414.11)n175:705.988,(n197:479.091,(n201:229.182,n202:229.182)n198:249.909)n176:641.008)n152:607.464)n124:80.4082)n102:288.643)n84:104.609)n65:63.306,((n103:934.063,n104:934.063)n85:1185.64,(((n153:665.242,(n177:550.34,n178:550.34)n154:114.901)n125:97.381,n126:762.623)n105:991.625,(n127:1304.38,(n155:951.877,n156:951.877)n128:352.502)n106:449.868)n86:365.46)n66:144.822)n52:1107)n35:256.348,(((n87:2102.01,((n129:295.875,n130:295.875)n107:416.312,n108:712.187)n88:1389.82)n67:579.253,n68:2681.26)n53:712.758,(n69:2897.69,((n109:2075.41,(n131:1133.7,n132:1133.7)n110:941.719)n89:503.114,(n111:2060.02,(n133:1669.96,(n157:1420.47,(n179:1104.64,n180:1104.64)n158:315.834)n134:249.492)n112:390.061)n90:518.506)n70:319.165)n54:496.326)n36:233.861)n22:117.092)n10:322.344)n4:171.766)n1:229.91,((n11:3442.34,(n23:2642.11,n24:2642.11)n12:800.223)n5:333.754,(n13:3705.55,(n25:3628.38,((n55:3255.55,(n71:2056.53,(n91:545.401,n92:545.401)n72:1511.12)n56:1199.03)n37:338.487,(((n93:2244.72,n94:2244.72)n73:694.176,(((n135:2063.24,(n159:1457.17,n160:1457.17)n136:606.067)n113:496.82,n114:2560.06)n95:178.637,n96:2738.69)n74:200.208)n57:308.08,(n75:3101.14,(((n137:2344.75,((n181:1423.89,n182:1423.89)n161:417.376,n162:1841.27)n138:503.489)n115:350.624,(n139:2314.33,((n183:1602.2,n184:1602.2)n163:396.632,(n185:1440.1,n186:1440.1)n164:558.733)n140:315.496)n116:381.048)n97:237.494,((n141:2464.87,(((n199:1306.5,n200:1306.5)n187:583.64,n188:1890.14)n165:330.335,n166:2220.47)n142:244.395)n117:191.776,(n143:2337.2,((n189:1600.97,n190:1600.97)n167:302.948,n168:1903.92)n144:433.286)n118:319.438)n98:276.23)n76:168.263)n58:145.844)n38:347.059)n26:34.3404)n14:77.17)n6:70.5397)n2:692.904);",format=1)

for n in t.get_leaves():
    n.name = mapping[n.name]

for n in t.traverse():
    if n.is_leaf() == False:
        n.name = ""
    n.dist *= abs(numpy.random.uniform(0.4,2))

print(t.write(format=1))


